(this.webpackJsonpseisolo=this.webpackJsonpseisolo||[]).push([[0],{190:function(e,t){},201:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},456:function(e,t,n){},468:function(e,t){},470:function(e,t){},503:function(e,t){},505:function(e,t){},538:function(e,t){},539:function(e,t){},544:function(e,t){},546:function(e,t){},553:function(e,t){},572:function(e,t){},634:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(63),i=n.n(r),c=(n(348),n(16)),s=(n(349),n(19)),l=n(50),u=n(23),d=n.n(u),f=n(15),g=(n(331),"".concat("","/overandunder (infinity).wav"),"".concat("","/Headshots/DIASPOURA_HS.png")),h="".concat("","/Headshots/PACIFIC_YEW_HS.png"),m="".concat("","/Headshots/CONTOUR_HS.png"),p="".concat("","/Tracks/demo.wav"),v="".concat("","/Tracks/overandunder (infinity).wav"),b="".concat("","/Tracks/Kontour_Remix_16.mp3"),y=("".concat("","/Tracks/Bach Mov 2.wav"),"".concat("","/Tracks/Bartok Mov 1.wav"),"".concat("","/Tracks/Ysaye_AUDIO.mp3")),O="".concat("","/Videos/Recital/Vivek Menon - JS Bach Partita n2_rev01-005.mov"),E="".concat("","/Videos/Recital/Vivek Menon - Sonate n3 - Eugene Ysaye_Rev02.mov"),w="".concat("","/Videos/Recital/Vivek_Menon_Bartok_Sonata_for_Violin_Solo_rev01.mov"),S="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam pulvinar lorem ipsum, at suscipit nibh finibus sed. Donec dignissim erat sed nunc consequat molestie. In arcu urna, eleifend vitae nisi vel, dignissim efficitur odio. Suspendisse hendrerit odio feugiat nulla suscipit posuere. Nulla scelerisque, urna in euismod dictum, mi elit fermentum nisi, et porttitor ipsum massa auctor tellus. Sed a sem vitae quam volutpat ultricies ac ac odio. Maecenas sit amet felis varius massa tempor porta. Quisque eu tristique massa.",j=("".concat("","/Headshots/ROTOSCOPE_TEST_1.mp4"),[{artist:"Diaspoura",title:"Diaspoura Track",link:"https://diaspoura.bandcamp.com/",src:p,about:"I worked with Vivek\u2019s performance of Movement 1 of Allemande by Bach to write Believe. When I listened through, one small section caught my ear as an interesting loop. I built layers around this loop and tried my best intuitively to match synth sounds with the clear and smooth violin. The pace of the violin sample encouraged me to explore writing at 140bpm. When I told Vivek I was working with Allemande, he anticipated a perhaps brooding and mysterious energy to be built. I have a much different perception of the energy the harmonies create. I thought this could be from my exposure to old South Asian folk and pop songs, many of which are based in a minor pentatonic scale and sing of love and desire.\nIt feels exciting to me that the violin can sound so in the mix with a bunch of synthesizers. And that I could integrate Bach\u2019s music into my sound. Thanks for the challenge sei.solo.",visualType:"image",visual:g,playing:!1,connections:[{target:"Ysa\xe9",description:"Connects in this way"}],category:"remix",bio:"ANJALI BIO"},{artist:"Pacific Yew",title:"overandunder (infinity)",link:"https://nomad1.bandcamp.com/",src:v,about:'Going through the files I found myself wanting to keep their integrity as much as possible, and as a result found myself playing with very subtle pitch corrections, and spending time finding phrases and bits that felt organic in reference to a melody I wrote on rhodes piano. Pulling samples from two completely different pieces was a really interesting experiment. I found Ysa\xe9\'s "Ballade" and Bart\xf3k\'s "Presto" to have the most favorable parts for the comp.',visualType:"image",visual:h,playing:!1,connections:[{target:"Ysa\xe9",description:"Connects in this way"}],category:"remix",bio:"PACIFIC BIO"},{artist:"Contour",title:"Revolving Melody",link:"https://diaspoura.bandcamp.com/",src:b,about:"*A young Jeronimo gets a fly caught in his eye and spends the week at home. Each morning he wakes, left eye patched and crusted shut with pus, to the sound of parents knocking at the door with a fresh set of tweezers, towels, and medic grade eye solution. He lies in bed struggling to open his left eye as he dreads the coming pry of the lid for removal of yet another fly limb. These songs track Jeronimo's journey back to dual-eyed sight*",visualType:"image",visual:m,playing:!1,connections:[{target:"Ysa\xe9",description:"Connects in this way"}],category:"remix",bio:"CONTOUR BIO"},{artist:"Vivek Menon",title:"Bart\xf3k",src:y,about:S,visualType:"video",visual:w,playing:!1,connections:[{target:"Ysa\xe9",description:"Connects in this way"}],category:"recital"},{artist:"Vivek Menon",title:"Bach",src:y,about:S,visualType:"video",visual:O,playing:!1,connections:[{target:"Ysa\xe9",description:"Connects in this way"}],category:"recital"},{artist:"Vivek Menon",title:"Ysa\xe9",src:y,about:S,visualType:"video",visual:E,playing:!1,connections:[{target:"Bach",description:"Connects in this way"}],category:"recital"}]),C=Object(f.f)(),M=C.useStoreActions,A=(C.useStoreDispatch,C.useStoreState),x=Object(f.f)();x.useStoreActions,x.useStoreDispatch,x.useStoreState;var T=n(152),I=n(338),k=n(44),R=(n(361),n(362),a.a.forwardRef((function(e,t){var n,o=e.children,r=e.className,i=e.backgroundColor,c=e.column,s=e.padding,l=e.width,u=e.height,d=c?"flex-column ":"flex-row ",f={backgroundColor:null!==i&&void 0!==i?i:"rgba(0,0,0,0)",padding:s,borderRadius:"1em",width:null!==l&&void 0!==l?l:"100%",height:null!==u&&void 0!==u?u:"100%",backdropFilter:e.backgroundBlur?"blur(10px)":""};return a.a.createElement("div",{className:null!==(n="ui-section "+d+r)&&void 0!==n?n:"",style:f,ref:t},o)}))),_=n(144),D=n.n(_),L={sampleHeight:40,longestSample:5,showIntro:!1,showFPS:!1,homePadding:20},N=window.innerWidth/12,P={startMode:"samples",sampleContainerWidth:2*N,sampleListWidth:5*N,sampleTagWidth:4*N,widgetWidth:300,widgetHeight:300,sampleCollectionGroupX:50,sampleCollectionRectHeight:window.innerHeight-100},F={primary:"#9e9e9e",primaryDark:"#1f1f1f",primaryMedium:"rgba(100, 100, 100, 255)",secondary:"#fff200",secondaryRGB:[255,242,0],secondaryHover:"#b38900",primaryInactive:"#4c4c4c",transparent:"#0000",stroke:"rgba(0,0,0,0)",border:"2px solid black",borderRadius:10,textDark:"black",text:"white",shadow:"5px 5px 15px 5px #000000",titleFontFamily:"Mimoid",primaryFont:"OTR type",titleFont:"3vw",bigFont:"min(10.5vh, 100px)",mediumFont:"1.5vw",logoFont:"Pexel"},H=n(29),W=a.a.memo((function(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),r=n[0],i=(n[1],Object(o.useState)({x:0,y:0})),s=Object(c.a)(i,2),l=(s[0],s[1],Object(o.useRef)(null)),u=(e.w,e.h),d=e.width,f=(e.fill,e.onMouseDown,e.onDragStart,e.onDragEnd,e.onMouseEnter,e.onDragMove,e.onMouseUp,e.draggable),g=e.id,h=e.svgPath,m=e.sample,p=e.x,v=e.y,b=e.scaleX;V(m.tags);return console.log(h),a.a.createElement(H.e,{x:p,y:v,ref:l,width:d,height:u,id:g,data:m.svgPath,scaleX:b,scaleY:r?1.1:1,fill:"red",draggable:f,stroke:r?"white":"black",strokeWidth:2})})),V=function(e){var t="blue",n="yellow";return e.includes("MR")&&(t="#3023AE",n="#53A0FD"),e.includes("LR")&&(t="#8c34eb",n="#d034eb"),e.includes("LR")&&(t="#ebd510",n="#eb8110"),e.includes("MIX")&&(t="#60eb10",n="#2a10eb"),[0,t,.5,n,1,t]},B=W,G=function(e){var t=e.sampleCollection;e.appMode;return console.log("RENDERING COLLECTION CONTAINER"),a.a.createElement(a.a.Fragment,null,a.a.createElement(H.f,{fill:F.stroke,height:window.innerHeight-100,width:P.sampleContainerWidth,stroke:F.primaryInactive,strokeWidth:2,cornerRadius:5}),a.a.createElement(H.h,{text:t.name}),t.samples.map((function(e,t){var n={x:20,y:L.sampleHeight*t+L.sampleHeight/2+20,sample:e,h:L.sampleHeight,width:10,scaleX:.5};return a.a.createElement(B,Object.assign({key:t},n))})))},Y=a.a.memo(G),X=(n(201),function(e){var t=e.open,n=e.setOpen,r={width:"".concat(25,"%"),height:200,display:t?"flex":"none",backgroundColor:F.secondary,borderRadius:F.borderRadius,position:"absolute",left:"".concat(37.5,"%"),bottom:"25%",overflow:"hidden",color:F.textDark,padding:"1em"},c=Object(o.useRef)(null);!function(e,t){Object(o.useEffect)((function(){var n=function(n){var o=null===e||void 0===e?void 0:e.current;o&&!o.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}(c,(function(){n(!1),console.log("clicked outside")}));var s=D()("dialog",{hidden:!t,"dialog-display":t});return i.a.createPortal(a.a.createElement("div",{className:s,style:r,ref:c},a.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")),document.getElementById("dialog-box"))}),U=n(1),z=n(2),K=function(){function e(){Object(U.a)(this,e),this.reaction=void 0,this.reaction="KOSIMA_NEUTRAL"}return Object(z.a)(e,[{key:"reactionImage",value:function(){return console.log(e.KosimaFolder+this.reaction+".svg"),e.KosimaFolder+this.reaction+".svg"}},{key:"baseImage",value:function(){return e.KosimaFolder+"KOSIMA_NEUTRAL.svg"}},{key:"setReaction",value:function(e){this.reaction=e}}]),e}();K.KosimaFolder="/Kosima/";var J=K,q=n(194),Q=n.n(q);function Z(e,t){var n=e.length,o={},a=[];t>n&&(t=n);for(var r=0;r<t;r++){var i=void 0;do{i=~~(Math.random()*n)}while(i in o);o[i]=null,a.push(e[i])}return a}function $(e,t,n,o,a){return(e-t)*(a-o)/(n-t)+o}var ee=n(120),te=function(e){var t=e.kosima,n=e.setPopOverOpen,r=Q()(t.baseImage()),i=Object(c.a)(r,1)[0];t.setReaction("KOSIMA_QUESTION");var s=Q()(t.reactionImage()),l=Object(c.a)(s,1)[0];console.log(l);var u=(window.innerWidth-150)/2,d=window.innerHeight-150-50,f=150/9,g=Object(o.useState)({x:74.5,y:108.33333333333331}),h=Object(c.a)(g,2),m=h[0],p=(h[1],Object(o.useRef)(null)),v=Object(o.useState)({x:0,y:0}),b=Object(c.a)(v,2),y=b[0],O=b[1];Object(o.useEffect)((function(){}),[y]);var E=Object(o.useRef)(null);return a.a.createElement(H.d,{onMouseUp:function(e){n(!0)},onMouseLeave:function(e){E.current.to({x:m.x,y:m.y,easing:ee.a.Easings.EaseOut})},onMouseMove:function(e){if(console.log(p),p.current){var t=p.current.getClientRect();console.log(t);var n=$(e.evt.pageX,t.x,t.x+t.width,-15,15);console.log(n),console.log(e),console.log(e.evt.x),console.log(e.evt.y);var o=$(e.evt.pageY,t.y,t.y+t.height,-15,15);O({x:n,y:o})}}},a.a.createElement(H.b,{x:u,y:d,ref:p},a.a.createElement(H.c,{width:150,height:150,image:i}),a.a.createElement(H.a,{ref:E,x:m.x+y.x,y:m.y+y.y,fill:"yellow",radius:.5*f,stroke:F.stroke})))},ne=a.a.memo(te),oe=n(333),ae=n.n(oe),re=Object(z.a)((function e(t,n){Object(U.a)(this,e),this.samples=void 0,this.name=void 0,this.samples=t,this.name=n})),ie=function(e){var t=e.sampleCollections.length,n=Object(o.useRef)(null),r=window.innerHeight/2-(15*t+5*t)/2;return a.a.createElement(H.b,null,a.a.createElement(H.b,{ref:n,y:r},e.sampleCollections.map((function(t,n){var o={x:10,y:15*n+5},r={fill:e.activeCollection===t.name?F.secondary:F.primary,stroke:F.secondary,width:15,height:15,id:t.name,onMouseUp:e.onMouseUp};return a.a.createElement(H.b,Object.assign({key:n},o),a.a.createElement(H.f,r))}))))},ce=Object(z.a)((function e(t,n){Object(U.a)(this,e),this.name=void 0,this.count=void 0,this.name=t,this.count=n})),se=["FD","MR","HR","ST","LT","MIX","LR","E","M","FL","C","BACH","BARTOK","YSAYE","TONE","TRL","T"],le=function(){function e(t,n,o){Object(U.a)(this,e),this.w=void 0,this.h=void 0,this.root=void 0,this.gutter=void 0;this.w=t,this.h=n,this.gutter=null!==o&&void 0!==o?o:5,this.root={x:40,y:0,w:t,h:n,used:!1}}return Object(z.a)(e,[{key:"fit",value:function(e){var t,n,o;for(t=0;t<e.length;t++)if(o=e[t],n=this.findNode(this.root,o.w,o.h)){this.splitNode(n,o.w,o.h,o.id);o.fit=this.splitNode(n,o.w,o.h,o.id)}}},{key:"findNode",value:function(e,t,n){return e.used&&e.right&&e.down?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.w&&n<=e.h?e:null}},{key:"splitNode",value:function(e,t,n,o){return e.used=!0,e.down={x:e.x,y:e.y+n,w:e.w,h:e.h-n},e.right={x:e.x+t,y:e.y,w:e.w-t,h:n},e}}]),e}(),ue=(window.innerWidth,function(e,t,n){return console.log("PACKING SAMPLES"),e.forEach((function(e){e.calculateDimensions(t,L.sampleHeight)})),new le(t,n,10).fit(e),e});var de=function(e){var t=e.activeTags,n=e.x,r=e.y,i=e.tag,s=(e.w,e.h,e.fill),l=e.radius,u=e.onMouseDown,d=e.onDragStart,f=e.onDragEnd,g=e.onMouseEnter,h=e.onDragMove,m=e.onMouseUp,p=e.draggable,v=e.id,b=(e.fit,e.stroke),y=e.strokeWidth;Object(o.useEffect)((function(){console.log(n,r),O.current.to({x:n,y:r})}),[n,r]);var O=Object(o.useRef)(null),E={onMouseDown:u,onDragStart:d,onDragEnd:f,onMouseEnter:g,onDragMove:h,onMouseUp:m,draggable:p,id:v},w=Object(o.useState)(t.includes(e.tag.name)),S=Object(c.a)(w,2),j=(S[0],S[1],Object(o.useState)(s)),C=Object(c.a)(j,2),M=(C[0],C[1]),A={strokeWidth:y},x=Object(o.useState)(!1),T=Object(c.a)(x,2),I=T[0],k=T[1],R=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.includes(i.name)?M(F.secondary):M(s)}),[t]),Object(o.useEffect)((function(){R.current.to({radius:l,duration:.3,easing:ee.a.Easings.EaseInOut})}),[l]),a.a.createElement(H.b,Object.assign({},E,{ref:O}),a.a.createElement(H.a,Object.assign({onMouseEnter:function(e){k(!0)},onMouseLeave:function(e){k(!1)},id:"tag_".concat(i.name,"_circle")},A,{stroke:0===i.count?F.primaryInactive:b,fill:0==i.count?F.primary:I?F.secondaryHover:F.stroke,ref:R})),a.a.createElement(H.h,{x:-l,fill:"white",text:i.name,align:"center",width:2*l}))},fe=a.a.memo(de),ge=function(e){var t=e.appMode,n=e.tags,r=e.removeTag,i=e.addTag,c=e.selectedTags,s=Object(o.useRef)(null);"samples"!==t?s.current&&s.current.children.forEach((function(e){e.to({opacity:0,duration:.1})})):s.current&&s.current.children.forEach((function(e){e.to({opacity:1,duration:.5})})),Object(o.useEffect)((function(){console.log(n)}),[n]);var l=n.map((function(e){return console.log(e.count),{tag:e,radius:$(e.count,0,170,20,80)}})),u=l.map((function(e){return e.radius})),d=200;console.log(u);var f=window.innerWidth-d-100,g=window.innerHeight/2,h=l.map((function(e,t){var n=d*Math.cos(he(t,d,u)),o=d*Math.sin(he(t,d,u));n+=f,o+=g;return{activeTags:c,tag:e.tag,key:t,radius:e.radius,fill:F.primary,x:n,y:o,stroke:F.secondary,strokeWidth:5,onMouseUp:function(t){console.log("got circle mouse up"),console.log(e),c.includes(e.tag.name)?r(e.tag.name):i(e.tag.name),console.log(c)}}}));return a.a.createElement(H.d,{ref:s},a.a.createElement(H.a,{x:f,y:g,radius:d,stroke:"red"}),h.map((function(e,t){return a.a.createElement(fe,Object.assign({},e,{key:t}))})))};function he(e,t,n){return e<1?0:(console.log(e,n[e],n[e-1],t,2*t/(n[e]+n[e-1]),Math.asin(2*t/(n[e]+n[e-1])),Math.asin(e),e-1),he(e-1,t,n)+Math.asin((2*n[e]+2*n[e-1])/(2*t)))}var me=a.a.memo((function(e){var t=e.sample,n=(e.ref,e.setRef,t.w),r=t.h,i=(t.fill,t.onMouseDown),s=(t.onDragStart,t.onDragEnd),l=t.onMouseEnter,u=t.onDragMove,d=t.onMouseUp,f=t.draggable,g=t.id,h=t.svgPath,m=t.fit,p=Object(o.useState)(!1),v=Object(c.a)(p,2),b=v[0],y=v[1],O=Object(o.useState)({x:0,y:0}),E=Object(c.a)(O,2),w=(E[0],E[1]),S=Object(o.useRef)(null),j=Object(o.useState)(!1),C=Object(c.a)(j,2),M=C[0],A=C[1],x=($(t.w,0,2.5,0,400),m.x),T=m.y,I=pe(t.tags);return a.a.createElement(H.b,{x:x,y:T,width:n,height:r},a.a.createElement(H.e,{ref:S,width:n,height:r,id:g,data:h,scaleX:.2,scaleY:.6,fillPriority:"linear-gradient",onMouseUp:d,onMouseDown:function(e){console.log(e.target.absolutePosition()),w(e.target.absolutePosition()),i(e)},onDragStart:function(e){A(!0)},onDragEnd:function(e){A(!1),e.target.x(0),e.target.y(r/2),s(e)},onMouseEnter:function(e){l(e),y(!0)},onMouseLeave:function(e){l(e),y(!1)},fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:n,y:r},fillLinearGradientColorStops:I,onDragMove:function(e){u(e)},draggable:f,stroke:b?"white":"black",strokeWidth:2}),a.a.createElement(H.f,{strokeWidth:2,width:n,height:r,x:0,y:0}),function(){if(M)return a.a.createElement(H.e,{width:n,height:r,id:"ghost_".concat(g),y:r/2,data:h,scaleX:b?1.1:1,scaleY:b?1.1:1,fillPriority:"linear-gradient",stroke:F.secondary,strokeWidth:2})}())})),pe=function(e){var t="blue",n="yellow";return e.includes("MR")&&(t="#3023AE",n="#53A0FD"),e.includes("LR")&&(t="#8c34eb",n="#d034eb"),e.includes("LR")&&(t="#ebd510",n="#eb8110"),e.includes("MIX")&&(t="#60eb10",n="#2a10eb"),[0,t,.5,n,1,t]},ve=me,be=function(e){var t=e.appMode,n=e.samples,r=e.sampleTrayGroupRef,i=e.setSampleToClone,c=e.addToCurrentCollection,l=e.setIsDragging,u=e.dragLayerRef,d=e.sampleToClone,f=e.setHoveredId,g=e.setPlayingSample,h=e.stageY;Object(o.useEffect)((function(){console.log(n)}),[n]);var m=Object(o.useRef)(null),p={x:P.sampleContainerWidth+20,y:h,ref:m};Object(o.useEffect)((function(){m.current&&("editor"===t||"viewer"===t?m.current.to({opacity:0,duration:.1}):"samples"===t&&m.current.to({opacity:1,duration:.1}))}),[t]);var v=function(e){console.log("DOING ON RECT MOUSE DOWN")},b=function(e){console.log(n.filter((function(t){return t.filename===e.target.attrs.id}))[0]),g(n.filter((function(t){return t.filename===e.target.attrs.id}))[0])},y=Object(o.useMemo)((function(){return console.log(n),function(e){return e.map((function(e){var t=v,n=b,o=F.secondary;return Object(s.a)(Object(s.a)({},e),{},{fill:o,draggable:!0,onDragMove:function(e){r.current&&(ye(e.target.getClientRect(),r.current.getClientRect())?(r.current.children[0].setAttr("fill",F.secondaryHover),console.log("INTERSECTED WITH TRAY")):(r.current.children[0].setAttr("fill",F.transparent),console.log("NO INTERSECTION")))},onDragStart:function(e){i(e.target),e.target.moveTo(u.current),console.log(e.target)},onDragEnd:function(e){console.log("GOT DRAG END AT CANVAS"),l(!1),r.current&&(ye(e.target.getClientRect(),r.current.getClientRect())&&c(d.attrs.id),d&&r.current&&(r.current.children[0].setAttr("fill","red"),d.moveTo(m.current))),r.current.children[0].setAttr("fill",F.transparent),c(e.target.attrs.id)},onMouseEnter:function(e){return f(e.target.attrs.id)},onMouseDown:t,onMouseUp:n})}))}(n)}),[n]);return a.a.createElement(H.d,p,function(){if(y[0].fit)return y.map((function(e){return a.a.createElement(ve,{key:e.id,sample:e})}))}())};function ye(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)}var Oe=function(e){var t=e.widgetContainerRef,n=e.appMode,r=Object(o.useRef)(null);Object(o.useEffect)((function(){t.current&&("samples"===n||"viewer"===n?(t.current.to({opacity:0,duration:.1}),r.current.to({opacity:0,duration:.1})):("editor"===n&&t.current.to({opacity:1,duration:.1}),"editor"===n&&r.current.to({opacity:1,duration:.1})))}),[n]);return a.a.createElement(a.a.Fragment,null,function(){var e=Array.from(Array(4).keys()),n=P.widgetWidth,o=P.widgetHeight,i=F.stroke,c=(window.innerWidth-e.length*n)/2,s=(window.innerHeight-o)/2,l=s-130,u={fill:F.secondary,width:4*n,height:2};return a.a.createElement(a.a.Fragment,null,a.a.createElement(H.b,{x:c,y:l,ref:r},a.a.createElement(H.f,Object.assign({x:0,y:0},u)),a.a.createElement(H.f,Object.assign({x:0,y:80},u))),a.a.createElement(H.b,{x:c,y:s,ref:t},e.map((function(e,t){var r=t*n;return a.a.createElement(H.f,{key:t,x:r,fill:i,width:n,height:o,stroke:F.secondary,cornerRadius:F.borderRadius})}))))}())},Ee=function(e){var t=e.appMode,n=e.setAppMode,o={width:"2em",height:"2em",backgroundColor:F.secondary,borderRadius:"50%"};return a.a.createElement("div",{style:o,onClick:function(e){n("viewer"!==t?"viewer":"editor")}})},we=function(e){var t=e.appMode,n=e.setAppMode,o={width:"fit-content",height:"1em",display:"flex",borderRadius:F.borderRadius,position:"absolute",right:0,top:0,overflow:"hidden",color:F.textDark,padding:"1em",alignItems:"center",margin:"0.5em"};return i.a.createPortal(a.a.createElement("div",{style:o},a.a.createElement(Ee,{setAppMode:n,appMode:t})),document.getElementById("navigation"))},Se=function(e){var t,n=e.activeTags,r=A((function(e){return e.samplesModel.samples})),i=Object(o.useRef)(),s=window.innerWidth/3,l=Object(o.useMemo)((function(){var e,t=r;n.length>0&&(t=t.filter((function(e){return n.every((function(t){return e.tags.includes(t)}))})),console.log(t));var o=0;null!==(e=(t=ue(t,s,5e3).filter((function(e){return e.fit})))[0])&&void 0!==e&&e.fit&&(o=function(e,t){var n=new Map;return e.map((function(o){n.has(o[t])||n.set(o[t],e.filter((function(e){return e[t]==o[t]})))})),n}(r.map((function(e){return e.fit})).filter((function(e){return e})),"y").size);return{packed:t,rows:o}}),[r,n]),u=Object(o.useMemo)((function(){var e=l.packed.map((function(e){return e.tags})).reduce((function(e,t){return e.concat(t)})),t=new Map;se.map((function(n){t.has(n)||t.set(n,je(e,n))}));var n=se.map((function(e){return new ce(e,t.get(e))}));return console.log(e),console.log(n),n}),[l]),d=Array.from(Array(10).keys()).map((function(e,t){return new re([],"Sample_Collection_".concat(t))})),g=new re(r.slice(1,6),"collection 1"),h=new re(r.slice(13,19),"collection 2"),m=new re([],"collection 3"),p=new re([],"collection 4"),v=new re([],"collection 5"),b=Object(f.j)((function(){var e;return{allTags:u,appMode:P.startMode,sampleCollections:[g,h,m,p,v],activeCollection:d[0],addToCurrentCollection:Object(f.b)((function(e,t){console.log("ADDING ".concat(t," TO CURRENT COLLECTION"));e.activeSamples.filter((function(e){return e.id===t}))[0];e.activeCollection.samples.push(e.activeSamples.filter((function(e){return e.id===t}))[0])})),sampleToClone:void 0,setSampleToClone:Object(f.b)((function(e,t){e.sampleToClone=t})),setActiveCollection:Object(f.b)((function(e,t){e.activeCollection=e.sampleCollections.filter((function(e){return e.name===t}))[0]})),availableTags:Object(f.d)([function(e){return e.activeSamples}],(function(e){var t=e.map((function(e){return e.tags})).reduce((function(e,t){return e.concat(t)})),n=new Map;return se.map((function(e){n.has(e)||n.set(e,je(t,e))})),se.map((function(e){return new ce(e,n.get(e))}))})),selectedTags:[],addTag:Object(f.b)((function(e,t){e.selectedTags.push(t)})),removeTag:Object(f.b)((function(e,t){e.selectedTags=e.selectedTags.filter((function(e){return e!==t}))})),kosima:new J,hoveredId:"",playingSample:void 0,isDragging:!1,draggingId:"",packedSamples:l.packed,popOverOpen:!1,setPopOverOpen:Object(f.b)((function(e,t){e.popOverOpen=t})),activeSamples:Object(f.d)([function(e){return e.packedSamples},function(e){return e.selectedTags}],(function(e,t){var n=e.filter((function(e){return t.every((function(t){return e.tags.includes(t)}))}));return ue(n,s,5e3)})),stageY:0,viewHeight:null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().height,stageHeight:l.rows*L.sampleHeight,setStageHeight:Object(f.b)((function(e,t){e.stageHeight=t})),setViewHeight:Object(f.b)((function(e,t){e.viewHeight=t})),setStageY:Object(f.b)((function(e,t){console.log("view height ".concat(e.viewHeight)),console.log(e.stageY);var n=0-(e.stageHeight-e.viewHeight);t>0?(console.log(t),e.stageY<0&&(console.log("doing first"),e.stageY=Math.min(e.stageY+t,0),console.log(e.stageY))):e.stageY>n&&(console.log(e.stageY),e.stageY+=t),console.log(e.stageHeight)})),setAppMode:Object(f.b)((function(e,t){e.appMode=t})),setIsDragging:Object(f.b)((function(e,t){e.isDragging=t})),setDraggingId:Object(f.b)((function(e,t){e.draggingId=t})),setHoveredId:Object(f.b)((function(e,t){e.hoveredId=t})),setPlayingSample:Object(f.b)((function(e,t){e.playingSample=t}))}}),[l,r],(function(){return{devTools:!1}})),y=Object(c.a)(b,2),O=y[0],E=y[1],w={width:window.innerWidth,height:O.viewHeight,onWheel:function(e){console.log(e),e.evt.preventDefault(),E.setStageY(e.evt.deltaY)}},S=Object(o.useState)(null),j=Object(c.a)(S,2),C=j[0],M=(j[1],Object(o.useRef)(null));Object(o.useEffect)((function(){var e;E.setViewHeight(null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().height),M.current.container().style.backgroundColor=F.primary}),[C]),Object(T.a)({keyCode:32,action:function(){"editor"===O.appMode?E.setAppMode("samples"):E.setAppMode("editor")},disabled:!1});var x=Object(o.useRef)(null),I=Object(o.useRef)(null),k=Object(o.useRef)(null),R=Object(o.useRef)(null),_=window.innerHeight-100,D=(window.innerHeight-_)/2;return Object(o.useEffect)((function(){if(console.log(O.appMode),R.current)if(R.current&&"editor"===O.appMode){var e=R.current.y(),t=R.current.x();R.current.height();I.current.to({x:t,y:e,opacity:1}),I.current.children[0].to({height:P.widgetHeight,width:P.widgetWidth})}else R.current&&"viewer"===O.appMode?I.current.to({opacity:0,duration:.1}):(D=(window.innerHeight-_)/2,I.current.to({x:P.sampleCollectionGroupX,y:(window.innerHeight-_)/2,opacity:1}),I.current.children[0].to({height:P.sampleCollectionRectHeight,width:P.widgetWidth}))}),[O.appMode]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{height:"100%",width:"100%"},ref:i,className:"outer-tray"},a.a.createElement(X,{open:O.popOverOpen,setOpen:function(e){return E.setPopOverOpen(e)}}),O.playingSample?a.a.createElement(ae.a,{playing:!0,height:0,width:0,progressInterval:1,onProgress:function(e){e.played,e.playedSeconds,e.loaded,e.loadedSeconds;null===C||void 0===C||C.fill("white"),console.log(O.playingSample)},url:null===(t=O.playingSample)||void 0===t?void 0:t.src}):a.a.createElement(a.a.Fragment,null),a.a.createElement(we,{setAppMode:function(e){return E.setAppMode(e)},appMode:O.appMode}),a.a.createElement(H.g,Object.assign({},w,{ref:M}),a.a.createElement(H.d,{ref:k,onDragStart:function(e){O.sampleToClone.moveTo(k.current)},onDragEnd:function(e){console.log(e.target),console.log(I)},onDragMove:function(e){var t,n;O.sampleToClone&&I.current&&(t=x.current.getClientRect(),(n=I.current.getClientRect()).x>t.x+t.width||n.x+n.width<t.x||n.y>t.y+t.height||n.y+n.height<t.y?(I.current.getChildren()[0].attrs.fill=F.primaryInactive,console.log("NO INTERSECTION")):(I.current.getChildren()[0].attrs.fill=F.secondaryHover,console.log("INTERSECTED WITH TRAY")))}}),a.a.createElement(H.d,null,a.a.createElement(Oe,{widgetContainerRef:R,appMode:O.appMode}),a.a.createElement(ie,{sampleCollections:O.sampleCollections,onMouseUp:function(e){E.setActiveCollection(e.target.attrs.id)},activeCollection:O.activeCollection.name}),a.a.createElement(H.b,{ref:I,height:_,y:D,x:P.sampleCollectionGroupX},a.a.createElement(Y,{sampleCollection:O.activeCollection,appMode:O.appMode}))),a.a.createElement(be,{appMode:O.appMode,samples:O.activeSamples,sampleTrayGroupRef:I,setSampleToClone:E.setSampleToClone,addToCurrentCollection:E.addToCurrentCollection,setIsDragging:E.setIsDragging,dragLayerRef:k,sampleToClone:O.sampleToClone,setHoveredId:E.setHoveredId,setPlayingSample:E.setPlayingSample,stageY:O.stageY}),a.a.createElement(ge,{appMode:O.appMode,tags:O.availableTags,selectedTags:O.selectedTags,removeTag:E.removeTag,addTag:E.addTag}),a.a.createElement(ne,{kosima:O.kosima,setPopOverOpen:E.setPopOverOpen}))))};function je(e,t){for(var n=0,o=0,a=e.length;o<a;o+=1)e[o]===t&&(n+=1);return n}var Ce=function(e){var t=e.active,n=Object(f.j)((function(){return{tags:[],addTag:Object(f.b)((function(e,t){e.tags.push(t)})),removeTag:Object(f.b)((function(e,t){e.tags=e.tags.filter((function(e){return e!==t}))}))}})),r=Object(c.a)(n,2),i=r[0],s=(r[1],D()("sample-tray-container",{"sample-tray-hidden":t})),l=(Object(o.useRef)(),Object(o.useState)("none")),u=Object(c.a)(l,2),d=u[0];u[1];return Object(o.useEffect)((function(){console.log("setting tray filter to ".concat(d))}),[d]),a.a.createElement(R,{className:s},a.a.createElement(R,{column:!0,backgroundColor:"white",className:"sample-tray-inner-container"},a.a.createElement(Se,{activeTags:i.tags})))},Me=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(Ce,{active:!1}))},Ae=n(35),xe=n(640),Te=n(641),Ie=n(648),ke=n(647),Re=n(34),_e=n(4),De=function(e){var t=e.trig,n=Object(o.useRef)(),r=Object(o.useRef)(),i=Object(o.useRef)(),s=Object(o.useRef)(),l=Object(o.useRef)(),u=Object(o.useRef)(),d=[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)],f=[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)],g=[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)];Object(o.useEffect)((function(){s.current=d,l.current=f,u.current=g}),[]);var h=Object(o.useState)([[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)],[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)],[new _e.Vector3(0,0,0),new _e.Vector3(10,10,10)]]),m=Object(c.a)(h,2),p=m[0],v=m[1],b=[n,r,i],y=Object(ke.a)(0,{damping:10,stiffness:10,bounce:0,duration:500});Object(o.useEffect)((function(){var e=y.get()+2*Math.PI/3;y.set(e)}),[t]);var O=2*Math.PI/3;return Object(Re.b)((function(e){var t=0;t+=y.get(),t+=O/2;var n=Object(Ae.a)(p);b.forEach((function(e,o){e.current.position.set(0,20.5*Math.cos(t+O*o),20.5*Math.sin(t+O*o));var a=e.current.position;n[o][1].set(a.x,a.y,a.z)})),v(n)})),a.a.createElement(a.a.Fragment,null,a.a.createElement("group",null,a.a.createElement("gridHelper",null),a.a.createElement(Pe,{points:p[0]}),a.a.createElement(Pe,{points:p[1]}),a.a.createElement(Pe,{points:p[2]}),a.a.createElement(Le,{text:"1",color:"red",ref:n}),a.a.createElement(Le,{text:"2",color:"green",ref:r}),a.a.createElement(Le,{text:"3",color:"blue",ref:i}),a.a.createElement(xe.a,{transform:!0},a.a.createElement("div",{style:{width:1e3,height:200,backgroundColor:"blue"}}))))},Le=Object(o.forwardRef)((function(e,t){var n=e.color,o=e.text;return a.a.createElement("group",{ref:t},a.a.createElement(xe.a,{transform:!0,position:[0,0,0]},a.a.createElement(Ne,{color:n},o)))})),Ne=function(e){var t=e.color,n=e.children;return a.a.createElement("div",{style:{width:500,height:500,backgroundColor:t,display:"flex",justifyContent:"center",textAlign:"center",fontSize:400}},n)},Pe=Object(o.forwardRef)((function(e,t){var n=e.points,o=new _e.LineCurve3(n[0],n[1]);return a.a.createElement("mesh",null,a.a.createElement("tubeGeometry",{args:[o,void 0,.1],ref:t}),a.a.createElement("meshBasicMaterial",{color:"red"}))})),Fe=function(){var e=Object(o.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",{onClick:function(e){r(n+1)},style:{width:"100%",height:600}},a.a.createElement(Re.a,{camera:{position:[0,10,30],fov:50}},a.a.createElement(Te.a,{makeDefault:!0,position:[0,10,30]}),a.a.createElement(Ie.a,{enableRotate:!0}),a.a.createElement("spotLight",{position:[2,1,1],intensity:10,penumbra:.1}),a.a.createElement(De,{trig:n})))},He=function(){return a.a.createElement("section",null,a.a.createElement(Fe,null))},We=[{i:"oneRecitalText",x:0,y:0,w:6,h:2,static:!1},{i:"recitalTracks",x:0,y:3,w:5,h:4,static:!0},{i:"threeRemixes",x:6,y:0,w:6,h:2,static:!1},{i:"remixes",x:6,y:3,w:5,h:5,static:!1}],Ve=function(e){var t=[].concat(We),n=e.map((function(e){return e.i})),o=[],a=t.map((function(e){return e.i}));return n.forEach((function(e){o.push(a.indexOf(e))})),o.forEach((function(n,o){t[n]=e[o]})),t};Ve([{i:"recitalTracks",x:0,y:2,w:5,h:4,static:!0},{i:"remixes",x:6,y:3,w:6,h:6,static:!1}]);var Be,Ge,Ye=Ve([]),Xe=Ve([{i:"waveform",x:6,y:3,w:4,h:6},{i:"violin",x:5,y:2,w:1,h:3}]),Ue=(Ve([]),{appMode:"intro",setAppMode:Object(f.b)((function(e,t){e.appMode=t})),infoDisplayMode:void 0,setInfoDisplayMode:Object(f.b)((function(e,t){e.infoDisplayMode=t})),isPlaying:!1,setCurrentTrack:Object(f.b)((function(e,t){console.log("SETTING CURRENT TRACK TO: "+t),e.currentTrackId=t})),currentTrackId:j[0].title,setIsPlaying:Object(f.b)((function(e,t){e.isPlaying=t})),currentTrack:Object(f.d)((function(e){return j.filter((function(t){return t.title===e.currentTrackId}))[0]})),currentAudioElement:Object(f.d)((function(e){return document.getElementById("audio_"+e.currentTrackId)})),currentLayout:Ye,setCurrentLayout:Object(f.b)((function(e,t){console.log("SETTING CURRENT TRACK TO: "+t);var n=[];"remix"===t?n=Ye:"recital"===t&&(n=Xe),e.currentLayout=n}))}),ze=Object(f.e)(Ue,{name:"homeStore",devTools:!1,middleware:[]}),Ke=n(5),Je=n(6),qe=n(196),Qe=n(81),Ze=n(335),$e=Qe.Shaders.create({circle:{frag:Object(Qe.GLSL)(Be||(Be=Object(qe.a)(["\n    #version 300 es\n    precision highp float;\n    \n    in vec2 uv;\n    out vec4 fragColor;\n\n    precision highp float;\n    \n    const int MAX_MARCHING_STEPS = 255;\n    const float MIN_DIST = 0.0;\n    const float MAX_DIST = 100.0;\n    const float EPSILON = 0.0001;\n    uniform float u_time;\n    float sphereSDF(vec3 samplePoint) {\n        return length(samplePoint) - 1.0;\n    }\n    float sceneSDF(vec3 samplePoint) {\n        return sphereSDF(samplePoint);\n    }\n    \n    float shortestDistanceToSurface(vec3 eye, vec3 marchingDirection, float start, float end) {\n        float depth = start;\n        for (int i = 0; i < MAX_MARCHING_STEPS; i++) {\n            float dist = sceneSDF(eye + depth * marchingDirection);\n            if (dist < EPSILON) {\n                return depth;\n            }\n            depth += dist;\n            if (depth >= end) {\n                return end;\n            }\n        }\n        return end;\n    }\n    \n    vec3 rayDirection(float fieldOfView, vec2 size, vec2 fragCoord) {\n        vec2 xy = fragCoord - size / 2.0;\n        float z = size.y / tan(radians(fieldOfView) / 2.0);\n        return normalize(vec3(xy, -z));\n    }\n    \n    \n    void main()\n    {\n        vec2 res = vec2(300.);\n        vec3 dir = rayDirection(45.0, res, gl_FragCoord.xy);\n        vec3 eye = vec3(0.0, 0.0, 5.0);\n        float dist = shortestDistanceToSurface(eye, dir, MIN_DIST, MAX_DIST);\n        vec4 col = vec4(0.);\n        if (dist > MAX_DIST - EPSILON) {\n            // Didn't hit anything\n            col = vec4(0.0, 0.0, 0.0, 0.0);\n            return;\n        }\n        \n        col = vec4(1.0, 0.0, 0.0, 1.0);\n        fragColor = col;\n    }\n\n"])))},FXAA:{frag:Object(Qe.GLSL)(Ge||(Ge=Object(qe.a)(["\n    #version 300 es\n    precision mediump float;\n      \n    in vec2 uv;\n    out vec4 fragColor;\n    //texture to apply FXAA to\n    uniform sampler2D inTexture;\n    \n    // https://github.com/mattdesl/glsl-fxaa/blob/master/fxaa.glsl\n    // #ifndef FXAA_REDUCE_MIN\n    // #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n    // #endif\n    // #ifndef FXAA_REDUCE_MUL\n    // #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n    // #endif\n    // #ifndef FXAA_SPAN_MAX\n    // #define FXAA_SPAN_MAX     1.0\n    // #endif\n    #ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n    #endif\n    #ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n    #endif\n    #ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n    #endif\n\n    vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n            vec4 color;\n            mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n            vec3 rgbNW = texture(tex, v_rgbNW).xyz;\n            vec3 rgbNE = texture(tex, v_rgbNE).xyz;\n            vec3 rgbSW = texture(tex, v_rgbSW).xyz;\n            vec3 rgbSE = texture(tex, v_rgbSE).xyz;\n            vec4 texColor = texture(tex, v_rgbM);\n            vec3 rgbM  = texColor.xyz;\n            vec3 luma = vec3(0.299, 0.587, 0.114);\n            float lumaNW = dot(rgbNW, luma);\n            float lumaNE = dot(rgbNE, luma);\n            float lumaSW = dot(rgbSW, luma);\n            float lumaSE = dot(rgbSE, luma);\n            float lumaM  = dot(rgbM,  luma);\n            float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n            float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n            mediump vec2 dir;\n            dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n            dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n            float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                                (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n            float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n            dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n                    max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                    dir * rcpDirMin)) * inverseVP;\n\n            vec3 rgbA = 0.5 * (\n                texture(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                texture(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n            vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                texture(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                texture(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n            float lumaB = dot(rgbB, luma);\n            if ((lumaB < lumaMin) || (lumaB > lumaMax))\n                color = vec4(rgbA, texColor.a);\n            else\n                color = vec4(rgbB, texColor.a);\n            return color;\n    }\n    void texcoords(vec2 fragCoord, vec2 resolution,\n        out vec2 v_rgbNW, out vec2 v_rgbNE,\n        out vec2 v_rgbSW, out vec2 v_rgbSE,\n        out vec2 v_rgbM) {\n            vec2 inverseVP = 1.0 / resolution.xy;\n            v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n            v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n            v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n            v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n            v_rgbM = vec2(fragCoord * inverseVP);\n    }\n    // https://github.com/mattdesl/glsl-fxaa/blob/master/index.glsl\n    vec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n        mediump vec2 v_rgbNW;\n        mediump vec2 v_rgbNE;\n        mediump vec2 v_rgbSW;\n        mediump vec2 v_rgbSE;\n        mediump vec2 v_rgbM;\n    \n        //compute the texture coords\n        texcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n        \n        //compute FXAA\n        return fxaa(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n    }\n    // https://github.com/mattdesl/glsl-fxaa/blob/master/texcoords.glsl\n\n    void main(){\n        vec3 col = vec3(.0);\n        vec4 antiAliased = apply(inTexture, gl_FragCoord.xy, vec2(300.));\n        vec4 noAA = texture(inTexture, uv);\n        if (uv.x< .5){\n            col = noAA.rgb;\n        } else {\n            col = antiAliased.rgb;\n        }\n        if (uv.x < 0.5 && uv.x> 0.49) col = vec3(1.);\n        fragColor = vec4(col, 1.0);\n    }\n    "])))}}),et=function(){var e=Object(o.useRef)();return a.a.createElement(Ze.Surface,{width:300,height:300,style:{border:"1px solid white"}},a.a.createElement(Qe.Bus,{ref:e},a.a.createElement(Qe.Node,{shader:$e.circle,uniforms:{text:"http://i.imgur.com/tCatS2c.jp"}})),a.a.createElement(tt,{u_resolution:[300,300]},(function(){return e.current})))},tt=function(e){Object(Ke.a)(n,e);var t=Object(Je.a)(n);function n(){var e;Object(U.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).props=void 0,e}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.u_resolution,n=e.children;return a.a.createElement(Qe.Node,{shader:$e.FXAA,uniforms:{inTexture:n,u_resolution:t}})}}]),n}(o.Component),nt=function(){return a.a.createElement("section",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},a.a.createElement("h1",null,a.a.createElement("a",{href:"https://github.com/mattdesl/glsl-fxaa"},"FXAA for WebGL "),"in gl-react"),a.a.createElement("span",{style:{width:300,display:"flex",justifyContent:"space-around",alignItems:"center"}},a.a.createElement("i",null,"FXAA Off"),a.a.createElement("i",null,"FXAA On")),a.a.createElement(et,null))},ot=n(90),at=n(644),rt=n(336),it=n.n(rt),ct=function(e){var t=e.children,n=e.border,o=e.overflowHidden,r=(e.radius,{width:"100%",height:"100%",border:n?"2px solid black":"",overflow:o?"hidden":"visible",borderRadius:F.borderRadius});return a.a.createElement("div",{id:"view-card",className:"view-card",style:r},t)},st=function(e){var t=e.children,n=e.layout,r=Object(o.useMemo)((function(){return n.map((function(e,n){var o=e.i;return a.a.createElement("div",{key:o,id:o},a.a.createElement(at.a.div,{id:o},a.a.createElement(ct,{border:!0,overflowHidden:!0,radius:void 0},t[n])))}))}),[n]);return a.a.createElement(it.a,{className:"layout",cols:12,rowHeight:30,width:1200},r)},lt=[{i:"a",x:0,y:0,w:1,h:1,static:!1},{i:"b",x:1,y:3,w:1,h:1,static:!1},{i:"c",x:2,y:3,w:1,h:1,static:!1}],ut=function(e){Object(ot.a)(e);return a.a.createElement("div",{style:{backgroundColor:"blue",width:"100%",height:"100%"}})},dt=function(e){return Object(ot.a)(e),a.a.createElement("section",{style:{width:"100vw",height:"100vh",backgroundColor:"red",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},a.a.createElement("div",{style:{width:"80vw",height:"80vh",padding:"2em",border:"1px solid blue"}},a.a.createElement(st,{layout:[].concat(lt)},a.a.createElement(ut,{key:"a"}),a.a.createElement(ut,{key:"b"}),a.a.createElement(ut,{key:"c"}))))},ft=function(e){return Object(ot.a)(e),a.a.createElement("div",null,a.a.createElement(dt,null))},gt=n(646),ht=n(642),mt=(n(643),function(e){var t=e.track,n=Object(gt.a)("".concat("","/Models/realistic-violin.glb")).nodes,r=Object(Re.c)(_e.TextureLoader,"".concat("","/Textures/mats/Warmth5.png")),i=Object(o.useRef)(),c=n.V.children,s=Object(ke.a)(0,{damping:10,stiffness:10});return Object(o.useEffect)((function(){i.current&&(t.category,s.set(0))}),[t.category]),s.onChange((function(e){i.current.position.x=e})),Object(Re.b)((function(){i.current.rotation.y+=.01})),a.a.createElement("group",{ref:i},c.map((function(e,t){return a.a.createElement("mesh",{key:t,geometry:e.geometry,material:e.material},a.a.createElement("meshMatcapMaterial",{attach:"material",opacity:.6,matcap:r}))})))}),pt=function(e){var t=e.track;return a.a.createElement(o.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Re.a,{className:"canvas"},a.a.createElement(ht.a,{makeDefault:!0,zoom:20.1,position:[0,0,20]}),a.a.createElement(Ie.a,null),a.a.createElement(mt,{track:t})))},vt=a.a.memo(pt);var bt,yt,Ot,Et,wt,St,jt,Ct=n(337),Mt=(n(456),function(e){return Object(ot.a)(e),a.a.createElement("div",{className:"dot-fill",style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{style:{height:"60%",width:"50%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",border:"1px solid ".concat(F.secondary),borderRadius:F.borderRadius}},a.a.createElement(At,null),a.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"60%",width:"50%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1,fontSize:"8vw",textAlign:"center",color:"black"}},a.a.createElement(Ct.a,{date:new Date("1/31/2022")})),a.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement(vt,{track:j[0]}))))}),At=function(){Array.from(Array(3).keys());return a.a.createElement("div",{style:{position:"absolute",padding:".5rem",height:"fit-content",width:"fit-content",textAlign:"center",paddingLeft:"1em",margin:"auto",display:"flex",alignItems:"center",transform:"translate(-50%, -50%)",borderRadius:20,left:"50%",top:"-10%",border:"1px solid ".concat(F.secondary),fontFamily:F.titleFontFamily,color:"black",backgroundColor:F.secondary,fontSize:"1rem",zIndex:100}},"Seisolo.io: Remixing the Recital")},xt=function(){var e=M((function(e){return e.googleSheetsModel.fetchAppGoogleSheet})),t=M((function(e){return e.compositionsModel.processCompositions})),n=M((function(e){return e.googleSheetsModel.fetchCompositionsSheet})),r=M((function(e){return e.googleSheetsModel.fetchSamplesSheet})),i=function(e){var t=Object(o.useState)(e),n=Object(c.a)(t,2),a=n[0],r=n[1];return[a,function(){return r(!a)}]}(!1),s=Object(c.a)(i,2),l=(s[0],s[1]);return Object(T.a)({keyCode:70,action:function(){l()},disabled:!1}),Object(o.useEffect)((function(){e(),t(),n(),r()}),[e]),a.a.createElement(I.a,null,a.a.createElement(k.a,{path:"/app",component:Me}),a.a.createElement(f.a,{store:ze},a.a.createElement(k.a,{path:"/",exact:!0,component:Mt})),a.a.createElement(k.a,{path:"/testing",component:He}),a.a.createElement(k.a,{path:"/fxaa",component:nt}),a.a.createElement(k.a,{path:"/daw",component:ft}))},Tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,649)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),r(e),i(e)}))};!function(e){e[e.SampleTraySample=0]="SampleTraySample",e[e.EDITOR=1]="EDITOR",e[e.PLACEHOLDER=2]="PLACEHOLDER",e[e.IFRAME=3]="IFRAME"}(bt||(bt={})),function(e){e[e.SAMPLE_TRAY=0]="SAMPLE_TRAY"}(yt||(yt={})),function(e){e.ACTIVE="ACTIVE",e.STATIC="STATIC"}(Ot||(Ot={})),function(e){e.DISPLAY="DISPLAY",e.EDIT="EDIT",e.CYCLE="CYCLE"}(Et||(Et={})),function(e){e.BACH_MOVEMENT_1="BACH_MOVEMENT_1",e.BACH_MOVEMENT_2="BACH_MOVEMENT_2",e.BACH_MOVEMENT_3="BACH_MOVEMENT_3A",e.BACH_MOVEMENT_4="BACH_MOVEMENT_4",e.BARTOK_MOVEMENT_1="BARTOK_MOVEMENT_1",e.BARTOK_MOVEMENT_2="BARTOK_MOVEMENT_2",e.YSAE_MOVEMENT_1="YSAE_MOVEMENT_1"}(wt||(wt={})),function(e){e.CROSS_ORIGIN="CROSS_ORIGIN"}(St||(St={})),function(e){e.MALFORMED_URL="MALFORMED_URL"}(jt||(jt={}));var It=function(){function e(t){Object(U.a)(this,e),this.url=void 0,this.errors=void 0,this.warnings=void 0,this.errors=[],this.warnings=[],this.url=t}return Object(z.a)(e,[{key:"validate",value:function(e){var t,n,o=function(e){var t=[],n=e.target;try{var o;null===(o=n.contentWindow)||void 0===o||o.name}catch(a){if(!a.message.includes("cross-origin"))return[];console.log(a.message),t.push(St.CROSS_ORIGIN)}return t}(e);console.log(o),(t=this.errors).push.apply(t,Object(Ae.a)(o)),console.log(this.errors);var a=function(e){var t=[];new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)||t.push(jt.MALFORMED_URL);return t}(this.url);(n=this.warnings).push.apply(n,Object(Ae.a)(a)),console.log(a)}},{key:"isValid",value:function(){return 0==this.errors.length}},{key:"errorMessages",value:function(){var e=this,t=[];return this.errors.map((function(n){if(n===St.CROSS_ORIGIN)t.push("Blocked a frame with origin ".concat(e.url,"; from accessing a cross-origin frame."));else console.log("error did not match an error enum")})),t}}]),e}();var kt=function(){function e(t){Object(U.a)(this,e),this.src=void 0,this.title=void 0,this.added=void 0,this.sourceId=void 0,this.author=void 0,this.interaction=void 0,this.validator=void 0,this.isActive=void 0,this.failed=void 0,this.src=t.src,this.title=t.title,this.added=new Date(t.added),this.sourceId=t.src,this.author=t.author,this.interaction=Ot[t.interaction],this.isActive=!1,this.validator=new It(this.src),this.failed=!1}return Object(z.a)(e,[{key:"setActive",value:function(e){this.isActive=e}},{key:"fail",value:function(){this.failed=!0}}]),e}(),Rt=[{i:"https://seisolo.io",x:0,y:0,w:1,h:1,static:!1},{i:"https://seisolo2.io",x:1,y:0,w:1,h:1,static:!1},{i:"https://seisolo3.io",x:2,y:0,w:1,h:1,static:!1},{i:"https://seisolo4.io",x:3,y:0,w:1,h:1,static:!1}],_t={lg:Rt,md:Rt,sm:Rt,xs:Rt,xxs:Rt};console.log(JSON.stringify(_t));var Dt=_t,Lt=function(){function e(){Object(U.a)(this,e),this.events=void 0,this.currentStep=void 0;this.events=[],this.currentStep=0}return Object(z.a)(e,[{key:"addEditEvent",value:function(e){this.currentStep+=1,this.events.push(e)}},{key:"undo",value:function(){return console.log(this.currentStep),this.currentStep-=1,this.events[this.currentStep]}},{key:"redo",value:function(){return console.log(this.currentStep),this.currentStep+=1,this.events[this.currentStep]}}]),e}(),Nt={availableCards:[],activeCards:[],currentLayout:Dt,appMode:Et.DISPLAY,history:new Lt,manageViewModeChange:Object(f.h)((function(e,t){switch(e.setAppMode(t),t){case Et.EDIT:case Et.DISPLAY:case Et.CYCLE:}})),toggleViewMode:Object(f.h)((function(e,t,n){var o=n.getState;switch(console.log("toggling view mod "),o().appMode){case Et.EDIT:e.setAppMode(Et.DISPLAY);break;case Et.DISPLAY:e.setAppMode(Et.EDIT);case Et.CYCLE:}})),setCurrentLayout:Object(f.b)((function(e,t){e.currentLayout=t})),setAvailableCards:Object(f.b)((function(e,t){console.log("setting available cards"),e.availableCards=t})),setActiveCards:Object(f.b)((function(e,t){console.log("setting active cards"),console.log(t),e.activeCards=t})),setAppMode:Object(f.b)((function(e,t){console.log("setting view mode"),e.appMode=t})),onCardSheetLoadSuccess:Object(f.c)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),(function(e,t){var n=t.payload.getSheetRows(0).map((function(e){return{src:e.src,title:e.title,added:e.added,sourceid:e.sourceid,author:e.author,interaction:e.interaction}})).map((function(e){return new kt(e)}));e.availableCards=n})),onSetActiveLayout:Object(f.i)((function(e,t){return t.layoutsModel.setActiveLayout}),function(){var e=Object(l.a)(d.a.mark((function e(t,n,o){var a,r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.getState,r=n.payload.sources().filter((function(e){return"clock"!==e})),i=a().availableCards.map((function(e){return r.includes(e.sourceId)?e.setActive(!0):e.setActive(!1),e})),c=a().availableCards.filter((function(e){return r.includes(e.sourceId)})),t.setAvailableCards(i),t.setActiveCards(c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}()),registerCardLoadFailure:Object(f.h)((function(e,t,n){var o=n.getState;n.getStoreState;console.log("Got card Register Load Failure at Layouts Model"),console.log(t);var a=o().activeCards,r=t.sourceId,i=a.map((function(e){return e.sourceId===r&&(console.log("found failed"),e.fail()),e}));e.setActiveCards(i)})),onSwapCardContent:Object(f.i)((function(e,t){return t.layoutsModel.swapCardContent}),function(){var e=Object(l.a)(d.a.mark((function e(t,n,o){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.getState,console.log("got swap card content"),console.log(n.payload),console.log(a().activeCards),(r=a().activeCards.map((function(e){if(e.sourceId===n.payload.targetId){var t=a().availableCards.find((function(e){return e.sourceId===n.payload.sourceId}));return console.log(t),t}return e})))&&t.setActiveCards(r),console.log(Object(f.g)(n));case 7:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}()),onUndoHistory:Object(f.i)((function(e,t){return t.historyModel.setCurrentHistory}),function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("got undo"),console.log(n.payload),t.setCurrentLayout(n.payload),console.log(Object(f.g)(n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),onRedoHistory:Object(f.i)((function(e,t){return t.historyModel.setCurrentHistory}),function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("got redo"),console.log(n.payload),t.setCurrentLayout(n.payload),console.log(Object(f.g)(n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},Pt=Nt,Ft=n(42),Ht=n(151),Wt=n(341),Vt=n.n(Wt),Bt=function(){function e(){var t=this;Object(U.a)(this,e),this.collectSamplePoints=function(e,t){var n=e.duration,o=e.duration,a=$(o,0,2.5,100,400);console.log(o);for(var r=[],i=0;i<10;i++){var c=.1*i*n,s=e.channel(0),l=e.at_time(c),u=s.max_sample(l),d=i/10,f=d*a;console.log(d);var g=$(u,0,100,0,40);g+=10;var h={x:f,y:Math.round(g)};r.push(h)}var m=r.map((function(e){return[e.x,e.y]}));m.push([m[m.length-1][0],0]);var p=r.map((function(e){return[e.x,0-e.y]})).reverse(),v=[p[p.length-1][0],m[0][1]];p.push(v);var b=[].concat(Object(Ae.a)(m),Object(Ae.a)(p));return Vt.a.toPath(b,4,!0)},this.data=void 0,this.audioContext=void 0,this.getAudio=function(e){return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(n){var o={audio_context:t.audioContext,array_buffer:n,scale:128};return new Promise((function(t,n){Ht.a.createFromAudio(o,(function(o,a){o?(console.error("FAILED TO CREATE AUDIO FROM URL ".concat(e)),n(o)):t(a)}))}))}))},this.data=[],this.audioContext=new AudioContext}return Object(z.a)(e,[{key:"generateSVG",value:function(e){var t=this;return console.log(e.src),this.getAudio(e.src).then((function(n){var o=t.collectSamplePoints(n,e);return e.setPath(o),e})).catch((function(t){return e}))}}]),e}();var Gt=function(){function e(t,n){Object(U.a)(this,e),this.title=void 0,this.url=void 0,this.waveFormData=void 0,this.title=t,this.waveFormData,this.url=n}return Object(z.a)(e,[{key:"buildWaveform",value:function(){var e=this;return Yt(this.url).then((function(t){return e.waveFormData=t,new Promise((function(e,n){e(t)}))}))}}]),e}(),Yt=function(e){var t=new AudioContext;return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){var n={audio_context:t,array_buffer:e,scale:128};return new Promise((function(e,t){Ht.a.createFromAudio(n,(function(n,o){n?t(n):e(o)}))}))}))},Xt=[function(){var e="".concat("","/")+"BACH2.mp3",t=new Gt("Bach Movement 2",e);return console.log(t),t}()],Ut=n(105),zt=n.n(Ut),Kt={compositions:Xt,processCompositions:Object(f.h)((function(e,t,n){var o=n.getState;console.log("processing compositions");var a=o(),r=Object(s.a)({},a).compositions;console.log(r);var i=new Bt,c=r.map((function(e){return i.getAudio(e.url)}));Promise.allSettled(c).then((function(t){for(var n=[],o=0;o<t.length;o++){var a=t[o],i=Object(Ae.a)(r)[o];console.log(a),"fulfilled"==a.status&&(i.waveFormData=a.value,n.push(i))}console.log("SETTINGS COMPOSITOINS"),console.log(n),e.setCompositions(n),e.downloadAnalysis()}))})),setCompositions:Object(f.b)((function(e,t){console.log("setting samples"),e.compositions=t})),downloadAnalysis:Object(f.b)((function(e){console.log(e.compositions[0].waveFormData.toJSON().data);var t=e.compositions.map((function(e){return{title:e.title,url:e.url,data:JSON.stringify(e.waveFormData)}})),n=zt.a.unparse(t);console.log(t[0].data.length);new Blob([n],{type:"text/csv;charset=utf-8;"})}))},Jt={key:"1eq33_1yJS6EZjqBvxWgL7nDP0OxC8bMdJJqU7Akp_3E",sheet_number:1},qt=n(342),Qt=function(){function e(t,n,o){Object(U.a)(this,e),this.title=void 0,this.sheetId=void 0,this.sheets=void 0,this.title=t,this.sheetId=n,this.sheets=o}return Object(z.a)(e,[{key:"getSheetRows",value:function(e){return this.sheets[e]}},{key:"loadSheets",value:function(e,t){var n=new qt.GoogleSpreadsheet(e);n.useApiKey(t);var o=[];return n.loadInfo().then((function(){return n.sheetsByIndex.forEach((function(e){var t=e.getRows();o.push(t)})),o}))}}]),e}(),Zt={layoutDataGoogleSheet:null,cardDataGoogleSheet:null,appGoogleSheet:void 0,samplesSheet:[],compositionsSheet:void 0,fetchCompositionsSheet:Object(f.h)(function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tn("/TEST_ANALYSIS.csv"),en(n,(function(e){t.setCompositionsSheet(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fetchSamplesSheet:Object(f.h)(function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Fetching Samples"),console.log("USING PREPROCESSED SAMPLE SHEET"),n=tn("/CLIPS_4.csv"),en(n,(function(e){t.setSamplesSheet(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fetchAppGoogleSheet:Object(f.h)(function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qt.prototype.loadSheets(Jt.key,"AIzaSyBo7S3o_RHuyBnG3Z7ywlvz3FbtKU9n0MQ").then((function(e){Promise.all(e).then((function(e){var n=new Qt("DSC App",Jt.key,e);t.setAppGoogleSheetData(n)}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setAppGoogleSheetData:Object(f.b)((function(e,t){e.appGoogleSheet=t})),setCardDataGoogleSheet:Object(f.b)((function(e,t){e.cardDataGoogleSheet=t})),setLayoutDataGoogleSheet:Object(f.b)((function(e,t){e.layoutDataGoogleSheet=t})),setCompositionsSheet:Object(f.b)((function(e,t){t.data=t.data})),setSamplesSheet:Object(f.b)((function(e,t){e.samplesSheet=t}))},$t=Zt,en=function(e,t){zt.a.parse(e,{download:!0,header:!0,complete:function(e){t(e)}})},tn=function(e){return e.endsWith(".csv")||console.error("Failed to load csv, wrong extension (not .csv)"),""+e},nn={history:new Lt,undoHistory:Object(f.h)((function(e,t,n){var o=n.getState;e.undoIt(),e.setCurrentHistory(o().history.undo())})),undoIt:Object(f.b)((function(e){e.history.undo(),console.log(e.history.currentStep)})),redoIt:Object(f.b)((function(e){e.history.redo(),console.log(e.history.currentStep)})),setCurrentHistory:Object(f.b)((function(e,t){console.log(t)})),addEditHistory:Object(f.b)((function(e,t){console.log("adding edit history"),console.log(t);var n=JSON.stringify(t);console.log(n),e.history.addEditEvent(t)}))},on=(n(645),function(){function e(t){Object(U.a)(this,e),this.title=void 0,this.author=void 0,this.added=void 0,this.id=void 0,this.layout=void 0,this.id=t.title+"_"+t.timestamp,this.title=t.title,this.author=t.author,this.added=new Date(t.timestamp.split(" ")[0]);var n=JSON.parse(t.layout);this.layout=n}return Object(z.a)(e,[{key:"swapCard",value:function(e){for(var t=0,n=Object.entries(this.layout);t<n.length;t++){var o,a=Object(c.a)(n[t],2),r=a[0],i=a[1],s=Object(Ft.a)(i.entries());try{for(s.s();!(o=s.n()).done;){var l=Object(c.a)(o.value,2),u=l[0];l[1].i==e.targetId&&(i[u].i=e.sourceId)}}catch(d){s.e(d)}finally{s.f()}this.layout[r]=i}}},{key:"removeCard",value:function(e){console.log(this.layout);for(var t=0,n=Object.entries(this.layout);t<n.length;t++){var o,a=Object(c.a)(n[t],2),r=a[0],i=a[1],s=Object(Ft.a)(i.entries());try{for(s.s();!(o=s.n()).done;){var l=Object(c.a)(o.value,2);l[0],l[1];this.layout[r]=i.filter((function(t){return t.i!==e.sourceId}))}}catch(u){s.e(u)}finally{s.f()}}}},{key:"addCard",value:function(e,t){console.log("ADDING CARD AT LAYOUT DATA"),console.log(this.layout);for(var n=0,o=Object.entries(this.layout);n<o.length;n++){var a=Object(c.a)(o[n],2),r=a[0],i=(a[1],{x:t.x,y:t.y,w:1,h:1,i:e.sourceId});this.layout[r].push(i)}}},{key:"failCard",value:function(e){console.log("FAILING CARD AT LAYOUT DATA")}},{key:"setGridLayout",value:function(e){console.log(e),this.layout=e}},{key:"sources",value:function(){return Object.entries(this.layout)[0][1].map((function(e){return e.i}))}}]),e}());var an={activeLayout:void 0,externalLayouts:[],bufferLayout:Dt,tempLayout:Dt,onSetAppGoogleSheetData:Object(f.i)((function(e,t){return t.googleSheetsModel.setAppGoogleSheetData}),(function(e,t){var n=t.payload.getSheetRows(1).map((function(e){return{title:e.title,author:e.author,timestamp:e.timestamp,layout:e.layout,interaction:e.interaction}})).map((function(e){return new on(e)})),o=n[0];o.layout=Dt,e.setActiveLayout(o),e.setExternalLayouts(n),e.setBufferLayout(n[0].layout)})),onToggleViewModeListener:Object(f.i)((function(e,t){return t.appModel.toggleViewMode}),(function(e,t,n){var o=n.getState,a=n.getStoreState,r=o().activeLayout,i=o().bufferLayout;a().appModel.appMode===Et.DISPLAY&&null!==r&&void 0!==r&&r.layout&&(r.layout=i,e.setActiveLayout(r))})),setActiveLayout:Object(f.b)((function(e,t){e.activeLayout=t})),setExternalLayouts:Object(f.b)((function(e,t){e.externalLayouts=t})),swapCardContent:Object(f.h)((function(e,t,n){var o=n.getState,a=n.getStoreState,r=(n.getStoreActions,a(),o().activeLayout);if(r){var i=o().bufferLayout;r.layout=i,r.swapCard(t),e.setActiveLayout(r)}})),deleteCard:Object(f.h)((function(e,t,n){var o=n.getState;n.getStoreState,n.getStoreActions,o().activeLayout;console.log("got here");var a=o().activeLayout;if(a){var r=o().bufferLayout;a.layout=r,a.removeCard(t),e.setActiveLayout(a)}})),addCard:Object(f.h)((function(e,t,n){var o=n.getState,a=n.getStoreState;console.log("adding card"),console.log(t);var r=a().appModel.availableCards,i=t.sourceId,c=t.targetPosition,s=r.find((function(e){return e.sourceId==i})),l=o().activeLayout;if(l&&s){var u=o().bufferLayout;console.log(Object(f.g)(u)),l.setGridLayout(u),null===l||void 0===l||l.addCard(s,c),e.setActiveLayout(l),console.log(s)}})),registerCardLoadFailure:Object(f.h)((function(e,t,n){var o=n.getState;n.getStoreState;console.log("Got card Register Load Failure at Layouts Model"),console.log(t);var a=o().activeLayout;a&&a.failCard(t)})),setBufferLayout:Object(f.b)((function(e,t){console.log("setting buffer layout"),console.log(t),e.bufferLayout=t})),setTempLayout:Object(f.b)((function(e,t){console.log("setting buffer layout"),console.log(t),e.tempLayout=t})),updateLayout:Object(f.b)((function(e,t){var n=e.activeLayout;n&&(n.swapCard(t),console.log(n.layout),e.activeLayout=n)}))},rn={data:[],setData:Object(f.b)((function(e,t){e.data=t}))},cn=function(){function e(t){var n=this;Object(U.a)(this,e),this.id=void 0,this.src=void 0,this.tags=void 0,this.svgPath=void 0,this.filename=void 0,this.length=void 0,this.composition=void 0,this.startTime=void 0,this.endTime=void 0,this.w=void 0,this.h=void 0,this.konvaObject=void 0,this.fit=void 0,this.setPath=function(e){n.svgPath=e};var o=t.filename,a=t.tags,r=t.composition,i=(t.starTime,t.endTime,t.hour,t.svgPath),c=t.length,s="".concat("","/Clips/")+o,l=new Date("1995-12-17T03:24:00"),u=new Date("1995-12-17T03:24:01");this.id=o,this.src=s,this.tags=a.split(","),this.startTime=l,this.endTime=u,this.composition=r,this.filename=o,this.svgPath=i,this.length=c,this.konvaObject=void 0,this.w=void 0,this.h=void 0,this.fit=void 0}return Object(z.a)(e,[{key:"calculateDimensions",value:function(e,t){this.w=$(this.length,0,6.5,0,e-0),this.h=t}}]),e}(),sn=["DNB_BREAK_134-1.wav","Samples/s1.wav"],ln=function(e){for(var t=[],n=(new Date("1995-12-17T03:24:00"),new Date("1995-12-17T03:24:01"),0);n<e;n++){var o="".concat("","/")+Z(sn,1)[0],a={composition:"placeHolderSample_".concat(n),starTime:"1995-12-17T03:24:00",endTime:"1995-12-17T03:24:01",tags:"MR, FD",date:"2021-09-24",hour:"222332",svgPath:"",length:1,filename:o},r=(Z(se,3),new cn(a));t.push(r)}return t}(30),un={samples:ln,draggingSample:ln[0].id,onSetSamplesSheets:Object(f.i)((function(e,t){return t.googleSheetsModel.setSamplesSheet}),(function(e,t){var n=t.payload,o=n.map((function(e){return new cn(e)}));e.setSamples(o)})),processSamples:Object(f.h)((function(e,t,n){var o=n.getState;console.log("processing samples");var a=o(),r=Object(s.a)({},a).samples;console.log(r);var i=new Bt,c=r.map((function(e){return i.generateSVG(e)}));Promise.allSettled(c).then((function(t){var n,o=[],a=Object(Ft.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;"fulfilled"===r.status&&o.push(r.value)}}catch(i){a.e(i)}finally{a.f()}e.setSamples(o)})),console.log(c)})),loadSamples:Object(f.h)((function(e){console.log("processing samples")})),setSamples:Object(f.b)((function(e,t){e.samples=t})),setDraggingSample:Object(f.b)((function(e,t){console.log("setting samples"),e.draggingSample=t}))},dn={appModel:Pt,historyModel:nn,layoutsModel:an,googleSheetsModel:$t,samplesModel:un,compositionsModel:Kt,logModel:rn};var fn=Object(f.e)(dn,{devTools:!1,middleware:[]});i.a.render(a.a.createElement(f.a,{store:fn},a.a.createElement(xt,null)),document.getElementById("root")),Tt()}},[[634,1,2]]]);
//# sourceMappingURL=main.4138496d.chunk.js.map